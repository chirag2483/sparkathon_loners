<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Assistant - Wally-verse</title>
    <link rel="stylesheet" href="css/chatbot.css">
    <link href="https://fonts.googleapis.com/css?family=Lato|Roboto:400,900" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:ital,wght@0,100;1,100&family=Nunito:wght@200;300&family=Poppins:ital,wght@0,100;0,200;1,100&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="navbar__tabs">
            <img src="assets/Images/walmart-logo.png" alt="Walmart Logo" />
        </div>
        <div class="navbar__tabs">
            <ul class="navbar__list">
                <li><a href="./index.html">Home</a></li>
                <li><a href="./tryon.html">Virtual tryon</a></li>
                <li><a href="./cart.html">3D shop</a></li>
                <li><a href="./shopping-cart.html" id="cart-btn">Cart</a></li>
                <li><a href="./orders.html" id="orders-btn">Orders</a></li>
                <li><a href="./chatbot.html" class="active">AI Assistant</a></li>
            </ul>
        </div>
        <div class="navbar__tabs">
            <button id="login">Login</button>
        </div>
        <div class="navbar__tabs">
            <button id="logout" style="display: none;">Logout</button>
        </div>
    </nav>

    <div class="chat-container">
        <div class="chat-header">
            <h1>AI Assistant</h1>
            <p>Ask me anything about Wally-verse, shopping, or get help with your orders!</p>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message bot-message">
                <div class="message-content">
                    <div class="bot-avatar">ðŸ¤–</div>
                    <div class="message-text">
                        Hello! I'm your AI assistant. I can help you with:
                        <ul>
                            <li>Finding products in Wally-verse</li>
                            <li>Virtual try-on assistance</li>
                            <li>Order tracking and support</li>
                            <li>General shopping questions</li>
                        </ul>
                        How can I help you today?
                    </div>
                </div>
                <div class="message-time">Just now</div>
            </div>
        </div>
        
        <div class="chat-input-container">
            <div class="chat-input-wrapper">
                <input type="text" id="messageInput" placeholder="Type your message here..." maxlength="500">
                <button id="sendButton" class="send-button">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            <div style="margin-top: 10px; text-align: center;">
                <select id="aiServiceSelect" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 5px 10px; border-radius: 5px; margin-right: 10px; font-size: 12px;">
                    <option value="openrouter">OpenRouter (GPT-3.5)</option>
                    <option value="google">Google Gemini</option>
                </select>
                <button id="testButton" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 12px;">Test AI Connection</button>
            </div>
        </div>
    </div>

    <script>
        const login = document.getElementById("login");
        const logout = document.getElementById("logout");
        const cartBtn = document.getElementById("cart-btn");
        const ordersBtn = document.getElementById("orders-btn");
        
        // Check if user is logged in
        const user = localStorage.getItem("user");
        
        if (user) {
            // User is logged in
            login.innerHTML = user;
            logout.style.display = "inline-block";
            cartBtn.style.display = "inline-block";
            ordersBtn.style.display = "inline-block";
            
            // Add logout functionality
            logout.addEventListener("click", () => {
                localStorage.removeItem("user");
                window.location.reload();
            });
        } else {
            // User is not logged in
            login.innerHTML = "Login";
            logout.style.display = "none";
            cartBtn.style.display = "none";
            ordersBtn.style.display = "none";
            
            // Add login functionality
            login.addEventListener("click", () => {
                window.location.href = "./login.html";
            });
        }
        
        // FORCE CART BUTTON VISIBLE FOR TESTING
        cartBtn.style.display = "inline-block !important";
        cartBtn.style.visibility = "visible !important";
        cartBtn.style.opacity = "1 !important";
        
        // FORCE ORDERS BUTTON VISIBLE FOR TESTING
        ordersBtn.style.display = "inline-block !important";
        ordersBtn.style.visibility = "visible !important";
        ordersBtn.style.opacity = "1 !important";
    </script>
    
    <script src="js/ai-config.js"></script>
    <script src="js/chatbot.js"></script>
</body>
</html> 